{"ast":null,"code":"import axios from \"axios\";\nimport LocalStorageService from \"../storage/localStorageService\";\nexport const authService = {\n  register,\n  login,\n  logout,\n  forgotPassword,\n  resetPassword\n};\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction login(username, password) {\n  return axios.post(API_URL + \"auth/login\", {\n    username: username,\n    password: password\n  }).then(user => {\n    //localStorage.setItem(\"user\", JSON.stringify(user));\n    localStorage.setItem(\"access_token\", user.data.access_token);\n    localStorage.setItem(\"refresh_token\", user.data.refresh_token);\n    return user;\n  }).catch(function (error) {\n    return error.response;\n  });\n}\n\nfunction register(user) {\n  return axios({\n    method: \"post\",\n    url: API_URL + \"auth/register\",\n    data: user\n  }).then(function (response) {\n    return response;\n  }).catch(error => {\n    return error;\n  });\n}\n\nfunction logout() {\n  return axios.get(API_URL + \"auth/logout\").then(user => {\n    //localStorage.setItem(\"user\", JSON.stringify(user));\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"first_name\");\n    localStorage.removeItem(\"last_name\");\n    localStorage.removeItem(\"organization_name\");\n    LocalStorageService.clearToken();\n    return user;\n  }).catch(function (error) {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"first_name\");\n    localStorage.removeItem(\"last_name\");\n    localStorage.removeItem(\"organization_name\");\n    LocalStorageService.clearToken();\n    return error.response;\n  });\n}\n\nfunction forgotPassword(email) {\n  return axios({\n    method: \"post\",\n    url: API_URL + \"auth/forgot-password\",\n    data: {\n      email: email\n    }\n  }).then(function (response) {\n    return response;\n  }).catch(error => {\n    return error.response;\n  });\n}\n\nfunction resetPassword(email, password, c_password, token) {\n  return axios.post(API_URL + \"auth/reset-password\", {\n    email: email,\n    password: password,\n    c_password: c_password,\n    token: token\n  }).then(user => {\n    return user;\n  }).catch(error => {\n    return error.response;\n  });\n}","map":{"version":3,"sources":["/Users/ashanmadhuwantha/Documents/Github/react-login-signup-ui-template/src/services/authService.js"],"names":["axios","LocalStorageService","authService","register","login","logout","forgotPassword","resetPassword","API_URL","process","env","REACT_APP_API_URL","username","password","post","then","user","localStorage","setItem","data","access_token","refresh_token","catch","error","response","method","url","get","removeItem","clearToken","email","c_password","token"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport LocalStorageService from \"../storage/localStorageService\";\r\nexport const authService = {\r\n  register,\r\n  login,\r\n  logout,\r\n  forgotPassword,\r\n  resetPassword,\r\n};\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nfunction login(username, password) {\r\n  return axios\r\n    .post(API_URL + `auth/login`, { username: username, password: password })\r\n    .then((user) => {\r\n      //localStorage.setItem(\"user\", JSON.stringify(user));\r\n      localStorage.setItem(\"access_token\", user.data.access_token);\r\n      localStorage.setItem(\"refresh_token\", user.data.refresh_token);\r\n      return user;\r\n    })\r\n    .catch(function (error) {\r\n      return error.response;\r\n    });\r\n}\r\n\r\nfunction register(user) {\r\n  return axios({\r\n    method: \"post\",\r\n    url: API_URL + `auth/register`,\r\n    data: user,\r\n  })\r\n    .then(function (response) {\r\n      return response;\r\n    })\r\n    .catch((error) => {\r\n      return error;\r\n    });\r\n}\r\n\r\nfunction logout() {\r\n  return axios\r\n    .get(API_URL + `auth/logout`)\r\n    .then((user) => {\r\n      //localStorage.setItem(\"user\", JSON.stringify(user));\r\n      localStorage.removeItem(\"access_token\");\r\n      localStorage.removeItem(\"refresh_token\");\r\n      localStorage.removeItem(\"first_name\");\r\n      localStorage.removeItem(\"last_name\");\r\n      localStorage.removeItem(\"organization_name\");\r\n      LocalStorageService.clearToken();\r\n      return user;\r\n    })\r\n    .catch(function (error) {\r\n      localStorage.removeItem(\"access_token\");\r\n      localStorage.removeItem(\"refresh_token\");\r\n      localStorage.removeItem(\"first_name\");\r\n      localStorage.removeItem(\"last_name\");\r\n      localStorage.removeItem(\"organization_name\");\r\n      LocalStorageService.clearToken();\r\n      return error.response;\r\n    });\r\n}\r\n\r\nfunction forgotPassword(email) {\r\n  return axios({\r\n    method: \"post\",\r\n    url: API_URL + `auth/forgot-password`,\r\n    data: { email: email },\r\n  })\r\n    .then(function (response) {\r\n      return response;\r\n    })\r\n    .catch((error) => {\r\n      return error.response;\r\n    });\r\n}\r\n\r\nfunction resetPassword(email, password, c_password, token) {\r\n  return axios\r\n    .post(API_URL + `auth/reset-password`, {\r\n      email: email,\r\n      password: password,\r\n      c_password: c_password,\r\n      token: token,\r\n    })\r\n    .then((user) => {\r\n      return user;\r\n    })\r\n    .catch((error) => {\r\n      return error.response;\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}