{"ast":null,"code":"import axios from \"axios\";\nimport LocalStorageService from \"../storage/localStorageService\";\nexport const authService = {\n  register,\n  login,\n  getTemp,\n  logout // forgotPassword,\n  // resetPassword,\n\n};\nconst API_URL = process.env.REACT_APP_API_URL;\n\nfunction login(email, password) {\n  return axios.post(API_URL + \"auth/login\", {\n    email: email,\n    password: password\n  }).then(user => {\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    localStorage.setItem(\"access_token\", user.data.access_token);\n    localStorage.setItem(\"refresh_token\", user.data.refresh_token);\n    return user;\n  }).catch(function (error) {\n    return error.response;\n  });\n}\n\nfunction register(user) {\n  return axios({\n    method: \"post\",\n    url: API_URL + \"auth/signup\",\n    data: user\n  }).then(function (response) {\n    return response;\n  }).catch(error => {\n    return error;\n  });\n}\n\nfunction getTemp(hottest) {\n  return axios({\n    method: \"get\",\n    url: API_URL + \"auth/getTemp\",\n    params: {\n      hottest: hottest\n    }\n  }).then(function (response) {\n    return response;\n  }).catch(error => {\n    return error;\n  });\n}\n\nfunction logout() {\n  return axios.get(API_URL + \"auth/logout\").then(user => {\n    //localStorage.setItem(\"user\", JSON.stringify(user));\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"first_name\");\n    localStorage.removeItem(\"last_name\");\n    localStorage.removeItem(\"organization_name\");\n    LocalStorageService.clearToken();\n    return user;\n  }).catch(function (error) {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"first_name\");\n    localStorage.removeItem(\"last_name\");\n    localStorage.removeItem(\"organization_name\");\n    LocalStorageService.clearToken();\n    return error.response;\n  });\n} // function forgotPassword(email) {\n//   return axios({\n//     method: \"post\",\n//     url: API_URL + `auth/forgot-password`,\n//     data: { email: email },\n//   })\n//     .then(function (response) {\n//       return response;\n//     })\n//     .catch((error) => {\n//       return error.response;\n//     });\n// }\n// function resetPassword(email, password, c_password, token) {\n//   return axios\n//     .post(API_URL + `auth/reset-password`, {\n//       email: email,\n//       password: password,\n//       c_password: c_password,\n//       token: token,\n//     })\n//     .then((user) => {\n//       return user;\n//     })\n//     .catch((error) => {\n//       return error.response;\n//     });\n// }","map":{"version":3,"sources":["/Users/ashanmadhuwantha/Documents/Github/login-temperature-fe/src/services/authService.js"],"names":["axios","LocalStorageService","authService","register","login","getTemp","logout","API_URL","process","env","REACT_APP_API_URL","email","password","post","then","user","localStorage","setItem","JSON","stringify","data","access_token","refresh_token","catch","error","response","method","url","hottest","params","get","removeItem","clearToken"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport LocalStorageService from \"../storage/localStorageService\";\r\nexport const authService = {\r\n  register,\r\n  login,\r\n  getTemp,\r\n  logout\r\n  // forgotPassword,\r\n  // resetPassword,\r\n};\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nfunction login(email, password) {\r\n  return axios\r\n    .post(API_URL + `auth/login`, { email: email, password: password })\r\n    .then((user) => {\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      localStorage.setItem(\"access_token\", user.data.access_token);\r\n      localStorage.setItem(\"refresh_token\", user.data.refresh_token);\r\n      return user;\r\n    })\r\n    .catch(function (error) {\r\n      return error.response;\r\n    });\r\n}\r\n\r\nfunction register(user) {\r\n\r\n  return axios({\r\n    method: \"post\",\r\n    url: API_URL + `auth/signup`,\r\n    data: user,\r\n  })\r\n    .then(function (response) {\r\n      return response;\r\n    })\r\n    .catch((error) => {\r\n      return error;\r\n    });\r\n}\r\n\r\n\r\nfunction getTemp(hottest) {\r\n\r\n  return axios({\r\n    method: \"get\",\r\n    url: API_URL + `auth/getTemp`,\r\n    params:{\r\n      hottest: hottest\r\n    }\r\n  })\r\n    .then(function (response) {\r\n      return response;\r\n    })\r\n    .catch((error) => {\r\n      return error;\r\n    });\r\n}\r\n\r\nfunction logout() {\r\n  return axios\r\n    .get(API_URL + `auth/logout`)\r\n    .then((user) => {\r\n      //localStorage.setItem(\"user\", JSON.stringify(user));\r\n      localStorage.removeItem(\"access_token\");\r\n      localStorage.removeItem(\"refresh_token\");\r\n      localStorage.removeItem(\"first_name\");\r\n      localStorage.removeItem(\"last_name\");\r\n      localStorage.removeItem(\"organization_name\");\r\n      LocalStorageService.clearToken();\r\n      return user;\r\n    })\r\n    .catch(function (error) {\r\n      localStorage.removeItem(\"access_token\");\r\n      localStorage.removeItem(\"refresh_token\");\r\n      localStorage.removeItem(\"first_name\");\r\n      localStorage.removeItem(\"last_name\");\r\n      localStorage.removeItem(\"organization_name\");\r\n      LocalStorageService.clearToken();\r\n      return error.response;\r\n    });\r\n}\r\n\r\n// function forgotPassword(email) {\r\n//   return axios({\r\n//     method: \"post\",\r\n//     url: API_URL + `auth/forgot-password`,\r\n//     data: { email: email },\r\n//   })\r\n//     .then(function (response) {\r\n//       return response;\r\n//     })\r\n//     .catch((error) => {\r\n//       return error.response;\r\n//     });\r\n// }\r\n\r\n// function resetPassword(email, password, c_password, token) {\r\n//   return axios\r\n//     .post(API_URL + `auth/reset-password`, {\r\n//       email: email,\r\n//       password: password,\r\n//       c_password: c_password,\r\n//       token: token,\r\n//     })\r\n//     .then((user) => {\r\n//       return user;\r\n//     })\r\n//     .catch((error) => {\r\n//       return error.response;\r\n//     });\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}